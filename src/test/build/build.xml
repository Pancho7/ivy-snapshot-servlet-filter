<project name="Test Dual Snapshot Resolver" basedir="." default="resolve" xmlns:ivy="antlib:org.apache.ivy.ant" xmlns:artifact="antlib:org.apache.maven.artifact.ant">
	
	<property name="ivy.version" value="2.4.0-rc1" />
	<property name="maven-ant-tasks.version" value="2.1.3" />
	
	<path id="maven-ant-tasks.classpath" path="${user.home}/.m2/repository/org/apache/maven/maven-ant-tasks/${maven-ant-tasks.version}/maven-ant-tasks-${maven-ant-tasks.version}.jar" />
	
	<typedef resource="org/apache/maven/artifact/ant/antlib.xml"
	           uri="antlib:org.apache.maven.artifact.ant"
	           classpathref="maven-ant-tasks.classpath" />
	
	<artifact:remoteRepository id="remote.repository" url="http://nexus.pentaho.org/content/groups/omni" />
	
	<artifact:dependencies pathId="ivy.classpath">
	  <dependency groupId="org.apache.ivy" artifactId="ivy" version="${ivy.version}"/>
	  <remoteRepository refid="remote.repository" />
	</artifact:dependencies>
	
    <taskdef resource="org/apache/ivy/ant/antlib.xml" uri="antlib:org.apache.ivy.ant" classpathref="ivy.classpath" />
	
	<target name="resolve">

	    <ivy:resolve file="ivy.xml" conf="default" />
	    <ivy:retrieve conf="default" pattern="../../../target/[module].[ext]" />
		
	</target>
		
</project>